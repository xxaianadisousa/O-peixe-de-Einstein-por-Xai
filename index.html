<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>O Peixe de Einstein</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    h1 { margin-bottom: 10px; }
    .container { display: flex; gap: 40px; align-items: flex-start; }
    .casas { display: flex; gap: 20px; flex-wrap: nowrap; }
    .casa {
      border: 1px solid #ccc;
      padding: 10px;
      width: 180px;
      flex-shrink: 0;
      background: #fdfdfd;
    }
    .casa h3 { margin-top: 0; font-size: 16px; }
    select { margin: 5px 0; width: 100%; }
    .dicas {
      flex: 1;
      background: #f9f9f9;
      padding: 10px 20px;
      border-left: 2px solid #ccc;
      max-width: 300px;
    }
    .dicas h2 { margin-top: 0; }
    ol { padding-left: 20px; }
  </style>
</head>
<body>
  <h1>O Peixe de Einstein üß†üêü</h1>

  <div class="container">
    <div class="casas" id="casas"></div>

    <div class="dicas">
      <h2>Dicas do Enigma</h2>
      <ol>
        <li>O brit√¢nico vive na casa vermelha.</li>
        <li>O sueco tem um cachorro.</li>
        <li>O dinamarqu√™s bebe ch√°.</li>
        <li>A casa verde est√° √† esquerda da casa branca.</li>
        <li>O dono da casa verde bebe caf√©.</li>
        <li>A pessoa que fuma Pall Mall cria p√°ssaros.</li>
        <li>O dono da casa amarela fuma Dunhill.</li>
        <li>O homem que vive na casa do meio bebe leite.</li>
        <li>O noruegu√™s vive na primeira casa.</li>
        <li>O homem que fuma Blends vive ao lado do dono dos gatos.</li>
        <li>O dono do cavalo vive ao lado do homem que fuma Dunhill.</li>
        <li>O homem que fuma Bluemaster bebe cerveja.</li>
        <li>O alem√£o fuma Prince.</li>
        <li>O noruegu√™s vive ao lado da casa azul.</li>
        <li>O homem que fuma Blends tem um vizinho que bebe √°gua.</li>
      </ol>
    </div>
  </div>

  <script>
    const opcoes = {
      cor: ["vermelho", "verde", "branco", "azul", "amarelo"],
      nacionalidade: ["noruegues", "ingles", "dinamarques", "alemao", "sueco"],
      bebida: ["agua", "cafe", "leite", "cerveja", "cha"],
      cigarro: ["pallmall", "dunhill", "bluemaster", "prince", "blend"],
      animal: ["gato", "cachorro", "p√°ssaro", "cavalo", "peixe"]
    };

    const container = document.getElementById("casas");
    for (let i = 1; i <= 5; i++) {
      const div = document.createElement("div");
      div.className = "casa";
      div.innerHTML = `<h3>Casa ${i}</h3>` +
        Object.keys(opcoes).map(tipo =>
          `<select name="${tipo}" data-casa="${i}">
            <option value="">-- ${tipo} --</option>
            ${opcoes[tipo].map(opt => `<option value="${opt}">${opt[0].toUpperCase() + opt.slice(1)}</option>`).join("")}
          </select>`
        ).join("");
      container.appendChild(div);
    }

    function atualizarOpcoes(tipo) {
      const selects = Array.from(document.querySelectorAll(`select[name="${tipo}"]`));
      const valoresSelecionados = selects.map(s => s.value);

      selects.forEach((selectAtual, indexAtual) => {
        const valoresAnteriores = valoresSelecionados.slice(0, indexAtual).filter(v => v !== "");
        Array.from(selectAtual.options).forEach(option => {
          if (valoresAnteriores.includes(option.value) && option.value !== selectAtual.value) {
            option.disabled = true;
          } else {
            option.disabled = false;
          }
        });
      });
    }

    ["cor", "nacionalidade", "bebida", "cigarro", "animal"].forEach(tipo => {
      document.querySelectorAll(`select[name="${tipo}"]`).forEach(select => {
        select.addEventListener("change", () => atualizarOpcoes(tipo));
      });
    });
  </script>
</body>
</html>
