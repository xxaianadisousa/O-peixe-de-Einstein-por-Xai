<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>O Peixe de Einstein</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    h1 { margin-bottom: 10px; }
    .container { display: flex; gap: 40px; align-items: flex-start; }
    .casas { display: flex; gap: 20px; flex-wrap: nowrap; }
    .casa {
      border: 1px solid #ccc;
      padding: 10px;
      width: 180px;
      flex-shrink: 0;
      background: #fdfdfd;
    }
    .casa h3 { margin-top: 0; font-size: 16px; }
    select {
      margin: 5px 0;
      width: 100%;
      background-color: white;
      transition: background-color 0.3s ease;
    }
    .dicas {
      flex: 1;
      background: #f9f9f9;
      padding: 10px 20px;
      border-left: 2px solid #ccc;
      max-width: 300px;
    }
    #resultado, #player-quote {
      margin-top: 20px;
      font-weight: bold;
      white-space: pre-line;
    }
    button {
      margin: 10px 10px 0 0;
      padding: 10px 15px;
      font-size: 16px;
      cursor: pointer;
    }
    textarea, input {
      margin: 5px 0;
      width: 100%;
      padding: 8px;
      font-size: 14px;
    }
    ul { padding-left: 20px; }

    @media (max-width: 768px) {
      .container {
        flex-direction: column;
        gap: 20px;
        padding-bottom: 140px;
      }
      .casas {
        flex-wrap: wrap;
        justify-content: center;
      }
      .casa {
        width: 100%;
        max-width: 300px;
      }
      .dicas {
        position: fixed;
        bottom: 0;
        left: 0;
        width: 100%;
        background: #f9f9f9;
        padding: 15px;
        border-top: 2px solid #ccc;
        z-index: 1000;
        max-height: 200px;
        overflow-y: auto;
      }
    }
  </style>
</head>
<body>
  <h1>O Peixe de Einstein üß†üêü</h1>

  <div class="container">
    <div class="casas" id="casas"></div>

    <div class="dicas">
      <h2>Dicas do Enigma</h2>
      <ol>
        <li>O brit√¢nico vive na casa vermelha.</li>
        <li>O sueco tem um cachorro.</li>
        <li>O dinamarqu√™s bebe ch√°.</li>
        <li>A casa verde est√° √† esquerda da casa branca.</li>
        <li>O dono da casa verde bebe caf√©.</li>
        <li>A pessoa que fuma Pall Mall cria p√°ssaros.</li>
        <li>O dono da casa amarela fuma Dunhill.</li>
        <li>O homem que vive na casa do meio bebe leite.</li>
        <li>O noruegu√™s vive na primeira casa.</li>
        <li>O homem que fuma Blends vive ao lado do dono dos gatos.</li>
        <li>O dono do cavalo vive ao lado do homem que fuma Dunhill.</li>
        <li>O homem que fuma Bluemaster bebe cerveja.</li>
        <li>O alem√£o fuma Prince.</li>
        <li>O noruegu√™s vive ao lado da casa azul.</li>
        <li>O homem que fuma Blends tem um vizinho que bebe √°gua.</li>
      </ol>
    </div>
  </div>

  <button onclick="verificarSolucao()">‚úÖ Verificar QI</button>
  <button onclick="reiniciarJogo()">üîÑ Reiniciar Jogo</button>
  <div id="resultado"></div>

  <h3>üí¨ Frases dos jogadores</h3>
  <div id="player-quote">‚ÄúAqui aparecer√° a frase do jogador...‚Äù</div>

  <h3>üìù Deixe sua frase sobre o desafio!</h3>
  <form id="comentario-form" onsubmit="salvarComentario(); return false;">
    <textarea id="comentario" rows="3" placeholder="Escreva sua experi√™ncia..."></textarea><br>
    <input type="text" id="nome" placeholder="Seu nome (opcional)">
    <input type="text" id="cidade" placeholder="Cidade (opcional)">
    <button type="submit">Enviar</button>
  </form>

  <div id="comentarios-recentes">
    <h4>üí¨ Coment√°rios recentes:</h4>
    <ul id="lista-comentarios"></ul>
  </div>

  <script>
    const opcoes = {
      cor: ["vermelho", "verde", "branco", "azul", "amarelo"],
      nacionalidade: ["noruegues", "ingles", "dinamarques", "alemao", "sueco"],
      bebida: ["agua", "cafe", "leite", "cerveja", "cha"],
      cigarro: ["pallmall", "dunhill", "bluemaster", "prince", "blends"],
      animal: ["gato", "cachorro", "p√°ssaro", "cavalo", "peixe"]
    };

    const solucao = [
      { cor: "amarelo", nacionalidade: "noruegues", bebida: "agua", cigarro: "dunhill", animal: "gato" },
      { cor: "azul", nacionalidade: "dinamarques", bebida: "cha", cigarro: "blends", animal: "cavalo" },
      { cor: "vermelho", nacionalidade: "ingles", bebida: "leite", cigarro: "pallmall", animal: "p√°ssaro" },
      { cor: "verde", nacionalidade: "alemao", bebida: "cafe", cigarro: "prince", animal: "peixe" },
      { cor: "branco", nacionalidade: "sueco", bebida: "cerveja", cigarro: "bluemaster", animal: "cachorro" }
    ];

    const container = document.getElementById("casas");
    for (let i = 1; i <= 5; i++) {
      const div = document.createElement("div");
      div.className = "casa";
      div.innerHTML = `<h3>Casa ${i}</h3>` +
        Object.keys(opcoes).map(tipo =>
          `<select name="${tipo}" data-casa="${i}">
            <option value="">-- ${tipo} --</option>
            ${opcoes[tipo].map(opt => `<option value="${opt}">${opt[0].toUpperCase() + opt.slice(1)}</option>`).join("")}
          </select>`
        ).join("");
      container.appendChild(div);
    }

    function verificarSolucao() {
      let acertos = 0;
      for (let i = 0; i < 5; i++) {
        let casaCorreta = solucao[i];
        Object.keys(opcoes).forEach(tipo => {
          const select = document.querySelector(`select[name="${tipo}"][data-casa="${i + 1}"]`);
          select.style.backgroundColor = "white";
          if (select.value === casaCorreta[tipo]) {
            select.style.backgroundColor = "#cceeff";
          } else {
            select.style.backgroundColor = "#ffccd5";
          }
        });
        let casaAcertos = Object.keys(opcoes).filter(tipo =>
          document.querySelector(`select[name="${tipo}"][data-casa="${i + 1}"]`).value === casaCorreta[tipo]
        ).length;
        if (casaAcertos === 5) acertos += 1;
      }

      let pontos = acertos * 20;
      let qi = 85;
      let nivel = "Abaixo da m√©dia";
      if (pontos >= 100) { qi = 135; nivel = "Superdotado"; }
      else if (pontos >= 81) { qi = 125; nivel = "Muito acima da m√©dia"; }
      else if (pontos >= 61) { qi = 115; nivel = "Acima da m√©dia"; }
      else if (pontos >= 41) { qi = 105; nivel = "M√©dia"; }
      else if (pontos >=
